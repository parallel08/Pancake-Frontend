"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5491],{85491:function(e,t,r){r.r(t);var n=r(85893),o=r(67294),i=r(99150),l=r(83136),c=r(42298),s=r(23917),a=r(66631);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(e){var t=e.data,r=e.setValue,u=e.setLabel,b=d(e,["data","setValue","setLabel"]),v=(0,s.Z)().theme,m=(0,i.$G)().currentLanguage.locale,p=(0,o.useRef)(null),h=(0,o.useState)(),y=h[0],g=h[1],w=(0,o.useCallback)((function(){var e;y&&(null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.parentElement)&&(y.resize(p.current.parentElement.clientWidth-32,250),y.timeScale().fitContent(),y.timeScale().scrollToPosition(0,!1))}),[y,p]);return(0,o.useEffect)((function(){return window.addEventListener("resize",w),function(){return window.removeEventListener("resize",w)}}),[true,p,w]),(0,o.useEffect)((function(){var e;if(!y&&t&&(null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.parentElement)){var r=(0,l.C2)(p.current,{height:250,width:p.current.parentElement.clientWidth-32,layout:{backgroundColor:"transparent",textColor:v.colors.textSubtle,fontFamily:"Kanit, sans-serif",fontSize:12},rightPriceScale:{scaleMargins:{top:.1,bottom:.1},borderVisible:!1},timeScale:{borderVisible:!1,secondsVisible:!0,tickMarkFormatter:function(e){return(0,c.default)(1e3*e,"MM/dd h:mm a")}},watermark:{visible:!1},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},crosshair:{horzLine:{visible:!1,labelVisible:!1},mode:1,vertLine:{visible:!0,labelVisible:!1,style:3,width:1,color:v.colors.textSubtle,labelBackgroundColor:v.colors.primary}}});r.timeScale().fitContent(),g(r)}}),[y,t,r,v]),(0,o.useEffect)((function(){if(y&&t){var e=y.addCandlestickSeries({upColor:v.colors.success,downColor:v.colors.failure,borderDownColor:v.colors.failure,borderUpColor:v.colors.success,wickDownColor:v.colors.failure,wickUpColor:v.colors.success});e.setData(t),y.subscribeCrosshairMove((function(t){if((null===p||void 0===p?void 0:p.current)&&(void 0===t||void 0===t.time||t&&t.point&&t.point.x<0||t&&t.point&&t.point.x>p.current.clientWidth||t&&t.point&&t.point.y<0||t&&t.point&&t.point.y>250))r&&r(void 0),u&&u(void 0);else if(e&&t){var n=t.time,o=new Date(1e3*n),i="".concat(o.toLocaleString(m,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:"UTC"})," (UTC)"),l=t.seriesPrices.get(e);r&&r(null===l||void 0===l?void 0:l.open),u&&u(i)}}))}}),[m,y,t,r,u,v]),(0,n.jsxs)(n.Fragment,{children:[!y&&(0,n.jsx)(a.PK,{}),(0,n.jsx)("div",f({ref:p,id:"candle-chart"},b))]})}}}]);